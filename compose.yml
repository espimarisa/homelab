---
include:
  - ./services/beszel/compose.yml
  - ./services/bookshelf/compose.yml
  - ./services/byparr/compose.yml
  - ./services/caddy/compose.yml
  - ./services/chhoto/compose.yml
  - ./services/ddclient/compose.yml
  - ./services/dozzle/compose.yml
  - ./services/gatus/compose.yml
  - ./services/gluetun/compose.yml
  - ./services/jellyfin/compose.yml
  - ./services/lidarr/compose.yml
  - ./services/mam-ip-helper/compose.yml
  - ./services/opencloud/compose.yml
  - ./services/profilarr/compose.yml
  - ./services/prowlarr/compose.yml
  - ./services/qbittorrent/compose.yml
  - ./services/radarr/compose.yml
  - ./services/slskd/compose.yml
  - ./services/socket-proxy/compose.yml
  - ./services/sonarr/compose.yml
  - ./services/thelounge/compose.yml
  - ./services/unpackerr/compose.yml
  - ./services/vaultwarden/compose.yml

networks:
  caddy:
    external: true
    name: caddy-network # $ docker network create caddy-network
  gluetun:
    driver: bridge
    external: true
    ipam:
      config:
        - subnet: 172.19.0.0/16 # Use 172.19.0.0/16 as a static subnet.
          gateway: 172.19.0.1 # Use 172.19.0.1 as the default gateway.
    name: gluetun-network # $ docker network create gluetun-network
  socket-proxy:
    external: true # $ docker network create --internal=true socket-proxy-network
    internal: true # Isolates the network from the outside.
    name: socket-proxy-network # Internal-only network used only for Socket Proxy traffic.

volumes:
  beszel-data:
    name: beszel-data-volume
    external: true
  beszel-agent:
    name: beszel-agent-volume
    external: true
  beszel-socket:
    name: beszel-socket-volume
    external: true
  caddy-backup:
    external: true
    name: caddy-backup-volume
  caddy-config:
    external: true
    name: caddy-config-volume
  caddy-data:
    external: true
    name: caddy-data-volume
  chhoto:
    external: true
    name: chhoto-volume
  profilarr:
    external: true
    name: profilarr-volume
  dozzle:
    name: dozzle-volume
    external: true
  gatus-db:
    name: gatus-db-volume
    external: true
  gluetun:
    name: gluetun-volume
    external: true
  jellyfin-cache:
    external: true
    name: jellyfin-cache-volume
  jellyfin-config:
    external: true
    name: jellyfin-config-volume
  bookshelf:
    name: bookshelf-volume
    external: true
  lidarr:
    name: lidarr-volume
    external: true
  prowlarr:
    name: prowlarr-volume
    external: true
  qbittorrent-config:
    name: qbittorrent-config-volume
    external: true
  qbittorrent-data:
    name: qbittorrent-data-volume
    external: true
  radarr:
    name: radarr-volume
    external: true
  slskd:
    name: slskd-volume
    external: true
  socket-proxy:
    name: socket-proxy-volume
    external: true
  sonarr:
    name: sonarr-volume
    external: true

  downloads:
    name: downloads-bind
    driver_opts:
      device: "${DOWNLOADS_PATH}"
      o: bind
      type: none
  media-library:
    name: media-library-bind
    driver_opts:
      device: "${MEDIA_LIBRARY_PATH}"
      o: bind
      type: none

  chhoto-data:
    name: chhoto-data-bind
    driver_opts:
      device: "${APPDATA_PATH}/chhoto"
      o: bind
      type: none
  opencloud-config:
    name: opencloud-config-bind
    driver_opts:
      device: "${APPDATA_PATH}/opencloud/config"
      o: bind
      type: none
  opencloud-data:
    name: opencloud-data-bind
    driver_opts:
      device: "${APPDATA_PATH}/opencloud/data"
      o: bind
      type: none
  thelounge-data:
    name: thelounge-data-bind
    driver_opts:
      device: "${APPDATA_PATH}/thelounge"
      o: bind
      type: none
  vaultwarden-data:
    name: vaultwarden-data-bind
    driver_opts:
      device: "${APPDATA_PATH}/vaultwarden"
      o: bind
      type: none
